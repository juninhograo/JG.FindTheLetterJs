{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/img/background/background-blue.jpg","webpack:///./src/img/elements/clouds/cloud-1.png","webpack:///./src/img/elements/hills/hill-1.png","webpack:///./src/img/platform/platform-big.png","webpack:///./src/img/platform/platform-small.png","webpack:///./src/js/canvas.js"],"names":["canvas","document","querySelector","c","getContext","gravity","width","height","GenericObject","x","y","image","position","drawImage","Player","velocity","fillStyle","fillRect","draw","createImage","imageSrc","Image","src","player","backgroundImage","background","cloudImage","cloud","hillImage","hill","platformImageSmall","platformSmall","platformImageBig","platformBig","scrollOffset","init","backgroundObjects","genericObjects","cloudObjects","platforms","keys","right","pressed","left","up","down","animate","requestAnimationFrame","forEach","p","obj","update","console","log","addEventListener","keyCode"],"mappings":"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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/canvas.js\");\n","export default __webpack_public_path__ + \"e4054ea739347108792e1433b7cf32be.jpg\";","export default __webpack_public_path__ + \"062e71412e06bde681145e592729e074.png\";","export default __webpack_public_path__ + \"cfffe4c371f5e11d372b398a87c51dd0.png\";","export default __webpack_public_path__ + \"a760fe720cf3a96c35669203efd4ef6e.png\";","export default __webpack_public_path__ + \"f69c0be2a3ce23e026de89a1bef167c9.png\";","import background from '../img/background/background-blue.jpg'\r\nimport cloud from '../img/elements/clouds/cloud-1.png'\r\nimport hill from '../img/elements/hills/hill-1.png'\r\nimport platformSmall from '../img/platform/platform-small.png'\r\nimport platformBig from '../img/platform/platform-big.png'\r\n\r\nconst canvas = document.querySelector('canvas')\r\nconst c = canvas.getContext('2d')\r\nconst gravity = 1\r\n\r\ncanvas.width = 1024\r\ncanvas.height = 576\r\n\r\nclass GenericObject {\r\n    constructor ({x, y, width, height, image}) {\r\n        this.position = {\r\n            x: x,\r\n            y: y\r\n        }\r\n\r\n        this.width = width ?? image.width\r\n        this.height = height ?? image.height\r\n        this.image = image\r\n    } \r\n    \r\n    draw () {\r\n        c.drawImage(this.image, this.position.x, this.position.y)\r\n    }\r\n}\r\n\r\nclass Player {\r\n    constructor () {\r\n        this.position = {\r\n            x:100,\r\n            y:100\r\n        }\r\n\r\n        this.velocity = {\r\n            x: 0,\r\n            y: 1\r\n        }\r\n\r\n        this.width = 30\r\n        this.height = 30\r\n    } \r\n    \r\n    draw () {\r\n        c.fillStyle = 'red'\r\n        c.fillRect(this.position.x, this.position.y, this.width, this.height)\r\n    }\r\n\r\n    update () {\r\n        this.draw()\r\n        this.position.x += this.velocity.x\r\n        this.position.y += this.velocity.y\r\n        //when player is falling down\r\n        if( this.position.y + this.height + this.velocity.y <= canvas.height) {\r\n            this.velocity.y += gravity\r\n        }\r\n        //when player reaches the root of the ground\r\n        else {\r\n            //stop the fall\r\n            //this.velocity.y = 0\r\n        }\r\n    }\r\n}\r\n\r\n//images\r\nfunction createImage(imageSrc){\r\n    const image = new Image()\r\n    image.src = imageSrc\r\n    return image\r\n}\r\n\r\n\r\n\r\n//player\r\nlet player = new Player()\r\nlet backgroundImage = createImage(background)\r\nlet cloudImage = createImage(cloud)\r\nlet hillImage = createImage(hill)\r\nlet platformImageSmall = createImage(platformSmall)\r\nlet platformImageBig = createImage(platformBig)\r\nlet scrollOffset = 0\r\n\r\nfunction init() {\r\n    player = new Player()\r\n    backgroundImage = createImage(background)\r\n    cloudImage = createImage(cloud)\r\n    hillImage = createImage(hill)\r\n    platformImageSmall = createImage(platformSmall)\r\n    platformImageBig = createImage(platformBig)\r\n    scrollOffset = 0\r\n}\r\n\r\n//background\r\nconst backgroundObjects = [\r\n    new GenericObject({\r\n        x: 0, \r\n        y: 0, \r\n        width: backgroundImage.width, \r\n        height: backgroundImage.height, \r\n        image: backgroundImage\r\n    })\r\n]\r\n\r\n//generic objects\r\nconst genericObjects = [\r\n    new GenericObject({\r\n        x: 0, \r\n        y: 100, \r\n        width: hillImage.width, \r\n        height: hillImage.height, \r\n        image: hillImage\r\n    })\r\n]\r\n\r\n//clouds\r\nconst cloudObjects = [\r\n    new GenericObject ({\r\n        x: 0,\r\n        y: 0,\r\n        image: cloudImage\r\n    })\r\n]\r\n\r\n//platform\r\nconst platforms = [\r\n    new GenericObject({\r\n        x: 0, y: 450, width: platformImageSmall.width, height: platformImageSmall.height, image: platformImageSmall\r\n    }), \r\n    new GenericObject({\r\n        x: 600, y: 450, width: platformImageBig.width, height: platformImageBig.height, image: platformImageBig\r\n    })\r\n]\r\n\r\n//actions\r\nconst keys = {\r\n    right: {\r\n        pressed: false\r\n    },\r\n    left: {\r\n        pressed: false\r\n    },\r\n    up: {\r\n        pressed: false\r\n    },\r\n    down: {\r\n        pressed: false\r\n    }\r\n}\r\n\r\nfunction animate(){\r\n    requestAnimationFrame(animate)\r\n    c.fillStyle = 'white'\r\n    c.fillRect(0, 0, canvas.width, canvas.height)\r\n    \r\n    if(keys.right.pressed && player.position.x < 400)\r\n        player.velocity.x = 5\r\n    else if(keys.left.pressed && player.position.x > 400)\r\n        player.velocity.x = -5\r\n    else {\r\n        player.velocity.x = 0\r\n\r\n        if(keys.right.pressed){\r\n            scrollOffset += 5\r\n            \r\n            //paralax effect to the right side\r\n            platforms.forEach(p => {\r\n                p.position.x -= 5\r\n            })\r\n\r\n            genericObjects.forEach(p => {\r\n                p.position.x -= 2\r\n            })\r\n\r\n            cloudObjects.forEach(p => {\r\n                p.position.x -= .5\r\n            })\r\n        }\r\n        else if(keys.left.pressed){\r\n            scrollOffset += -5\r\n            \r\n            //paralax effect to the left side\r\n            platforms.forEach(p => {\r\n                p.position.x += 5\r\n            })\r\n\r\n            genericObjects.forEach(p => {\r\n                p.position.x += 2\r\n            })\r\n\r\n            cloudObjects.forEach(p => {\r\n                p.position.x += .5\r\n            })\r\n        }\r\n    }\r\n    \r\n    backgroundObjects.forEach(obj => {\r\n        obj.draw()\r\n    })\r\n    \r\n    cloudObjects.forEach(obj => {\r\n        obj.draw()\r\n    })\r\n\r\n    genericObjects.forEach(obj => {\r\n        obj.draw()\r\n    })\r\n    \r\n    platforms.forEach(p => {\r\n        p.draw()\r\n    })\r\n\r\n    player.update()\r\n\r\n    //platform colision detection\r\n    platforms.forEach(p => {\r\n        if(\r\n            player.position.y + player.height <= p.position.y &&\r\n            player.position.y + player.height + player.velocity.y >= p.position.y &&\r\n            player.position.x <= p.position.x + p.width &&\r\n            player.position.x + player.width + player.velocity.x >= p.position.x\r\n        )\r\n        {\r\n            \r\n            player.velocity.y = 0\r\n        }\r\n    })\r\n\r\n    //win condition\r\n    if(scrollOffset > 2000)\r\n    {\r\n        scrollOffset = 0\r\n        console.log('you win!')\r\n    }\r\n    //loose condition\r\n    if(player.position.y > canvas.height)\r\n    {\r\n        //console.log('you loose!')\r\n        init()\r\n    }\r\n\r\n}\r\n\r\nanimate()\r\n\r\naddEventListener('keydown', ({ keyCode }) => {\r\n    //console.log(keyCode)\r\n\r\n    switch(keyCode) {\r\n        case 37:\r\n        case 65: {\r\n            //console.log('left');\r\n            keys.left.pressed = true\r\n            break\r\n        }\r\n        case 40:\r\n        case 83: {\r\n            //console.log('down');\r\n            keys.down.pressed = true\r\n            break\r\n        }\r\n        case 39:\r\n        case 68: {\r\n            //console.log('right');\r\n            keys.right.pressed = true\r\n            break\r\n        }\r\n        case 38:\r\n        case 32: { //space 32, up 87\r\n            //console.log('up');\r\n            if(!keys.up.pressed) {\r\n                player.velocity.y -= 25\r\n            }\r\n            keys.up.pressed = true\r\n            break\r\n        }\r\n    }  \r\n})\r\n\r\naddEventListener('keyup', ({ keyCode }) => {\r\n    //console.log(keyCode)\r\n    switch(keyCode) {\r\n        case 37:\r\n        case 65: {\r\n            //console.log('left');\r\n            keys.left.pressed = false\r\n            break\r\n        }\r\n        case 40:\r\n        case 83: {\r\n            //console.log('down');\r\n            keys.down.pressed = false\r\n            break\r\n        }\r\n        case 39:\r\n        case 68: {\r\n            //console.log('right');\r\n            keys.right.pressed = false\r\n            break\r\n        }\r\n        case 38:\r\n        \r\n        case 32: { //space 32, up 87\r\n            //console.log('up');\r\n            player.velocity.y -= 0\r\n            keys.up.pressed = false\r\n            break\r\n        }\r\n    }  \r\n})"],"sourceRoot":""}